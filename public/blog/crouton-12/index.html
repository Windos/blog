<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage"><head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" href="/favicon.png">

  <title>
  Crouton #12 - Toasting in Many Tongues (Tōhi o nga reo maha) - ToastIT
  </title>
  <meta name="description" content="Toast notification data bindings have a number of uses. We&#39;ve already covered updating toasts, now let&#39;s teach our notifications a second language." />
  <meta name="author" content="Josh King" />
  <meta name="generator" content="Hugo 0.101.0" /><link
    rel="stylesheet"
    href="https://blog.toastit.dev/css/styles.min.f1259c4f8868acc3e3e3f3194acb8dc973d6d46276811e77f3af9cdf78a5af42.css"
    integrity="sha256-8SWcT4horMPj4/MZSsuNyXPW1GJ2gR5386+c33ilr0I="
  />
  
  

  <meta property="og:title" content="Crouton #12 - Toasting in Many Tongues (Tōhi o nga reo maha)" />
<meta property="og:description" content="Toast notification data bindings have a number of uses. We&#39;ve already covered updating toasts, now let&#39;s teach our notifications a second language." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.toastit.dev/blog/crouton-12/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2019-07-31T11:09:29+00:00" />
<meta property="article:modified_time" content="2019-07-31T11:09:29+00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Crouton #12 - Toasting in Many Tongues (Tōhi o nga reo maha)"/>
<meta name="twitter:description" content="Toast notification data bindings have a number of uses. We&#39;ve already covered updating toasts, now let&#39;s teach our notifications a second language."/>

  <meta itemprop="name" content="Crouton #12 - Toasting in Many Tongues (Tōhi o nga reo maha)">
<meta itemprop="description" content="Toast notification data bindings have a number of uses. We&#39;ve already covered updating toasts, now let&#39;s teach our notifications a second language."><meta itemprop="datePublished" content="2019-07-31T11:09:29+00:00" />
<meta itemprop="dateModified" content="2019-07-31T11:09:29+00:00" />
<meta itemprop="wordCount" content="877">
<meta itemprop="keywords" content="BurntToast,PowerShell," />
</head>
<body class="dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative">
  <a href="https://blog.toastit.dev/" class="capitalize font-extrabold text-2xl">
    
    <img src="/toastit-logo.png" alt="ToastIT" class="h-8 max-w-full" />
    
  </a>
  <button class="mobile-menu-button md:hidden">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <line x1="4" y1="8" x2="20" y2="8" />
      <line x1="4" y1="16" x2="20" y2="16" />
    </svg>
  </button>
  <ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-white dark:bg-gray-800">

    
    <li><a href="/blog">Blog</a></li>
    
    <li><a href="/page/about/">About</a></li>
    
    <li><a href="/tags">Tags</a></li>
    
    <li><a href="/blog/emoji-support/">Top Post</a></li>
    

    

    
    <li class="grid place-items-center">
      <span class="open-search inline-block cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="10" cy="10" r="7" />
          <line x1="21" y1="21" x2="15" y2="15" />
        </svg>
      </span>
    </li>
    

    
  </ul>
</header>
<main class="flex-1">
  
  

  

  <article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4">

    <h1 class="text-2xl font-bold mb-2">Crouton #12 - Toasting in Many Tongues (Tōhi o nga reo maha)</h1>
    <h5 class="text-sm flex items-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <rect x="4" y="5" width="16" height="16" rx="2" />
        <line x1="16" y1="3" x2="16" y2="7" />
        <line x1="8" y1="3" x2="8" y2="7" />
        <line x1="4" y1="11" x2="20" y2="11" />
        <rect x="8" y="15" width="2" height="2" />
      </svg>
      Posted on 
  
    July 31, 2019
  


      
        &nbsp;&bull;&nbsp;
      
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <circle cx="12" cy="12" r="9" />
        <polyline points="12 7 12 12 15 15" />
      </svg>
      5&nbsp;minutes
      &nbsp;&bull;
      <svg xmlns="http://www.w3.org/2000/svg" class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <line x1="3" y1="6" x2="3" y2="19" />
        <line x1="12" y1="6" x2="12" y2="19" />
        <line x1="21" y1="6" x2="21" y2="19" />
      </svg>
      877&nbsp;words
      
    </h5>

    <p><a href="__GHOST_URL__/2019/07/17/crouton-11/">Last time we talked</a>
 toast notifications, we covered how you can gracefully update their content. This was achieved through a process called data binding where you specify placeholder &ldquo;anchors&rdquo; in your notification in place of the actual text which then maps through to the text to be displayed in a hashtable.</p>
<p>There&rsquo;s another use case for this data binding mechanism which I&rsquo;m very excited about: localization.</p>
<h2 id="first-an-apology">First, an Apology</h2>
<p>I&rsquo;ll be using <a href="https://en.wikipedia.org/wiki/M%C4%81ori_language" target="_blank" rel="noopener">Māori</a>
 as a non-English language in this post, but I&rsquo;m ashamed to say that my te reo isn&rsquo;t too sharp. So if I stuff up a phrase, word, or sentence construction - I&rsquo;m sorry!</p>
<p>I&rsquo;m leaning on an online <a href="https://maoridictionary.co.nz" target="_blank" rel="noopener">Māori dictionary</a>
 pretty heavily here, and it&rsquo;s a great resource for looking up the meaning of individual words or short phrases.</p>
<h2 id="picking-up-another-language">Picking up Another Language</h2>
<p>So let&rsquo;s get to the point and teach our notifications to speak another language. We&rsquo;ll start by defining two hashtables, one for each language. If you wanted to support more languages than this, you&rsquo;d need to set up one hashtable for each (though you should probably consider a different solution if you&rsquo;re trying to support the entire world!)</p>
<pre><code>$English = @{
    Header = 'Morning proverb'
    Body   = 'Unlike a canoe rope, a human bond cannot be severed'
}

$Maori = @{
    Header = 'Whakataki i nga ata'
    Body   = 'He hono tangata e kore e motu; ka pa he taura waka e motu'
}
</code></pre>
<p>With those defined, we can go ahead and create our toast notification specifying the language we want to use against the <code>-DataBinding</code> parameter.</p>
<p><em>As a reminder, the text elements must be the same as the keys you want to match against in your hashtable(s). That&rsquo;s <code>Header</code> and <code>Body</code> in this case.</em></p>
<pre><code>New-BurntToastNotification -Text 'Header', 'Body' -DataBinding $English
</code></pre>
<p><img src="__GHOST_URL__/content/images/2019/07/English.png" alt="">Example Toast in English
New-BurntToastNotification -Text &lsquo;Header&rsquo;, &lsquo;Body&rsquo; -DataBinding $Maori</p>
<p><img src="__GHOST_URL__/content/images/2019/07/Maori.png" alt="">Example Toast in Māori</p>
<h2 id="scaling-out">Scaling Out</h2>
<p>Sure, specifying the language manually works, but sort of defeats the purpose of this post and automation in general. If we&rsquo;re going to be manually selecting a hashtable we might as well just be putting the desired text directly into the function call.</p>
<p>Luckily, we can work smarter.</p>
<p>Start as we did before, with our language specific hashtables.</p>
<pre><code>$English = @{
    Header = 'Morning proverb'
    Body   = 'Seek after learning for the sake of your wellbeing'
}

$Maori = @{
    Header = 'Whakataki i nga ata'
    Body   = 'Whāia te mātauranga hei oranga mō koutou'
}
</code></pre>
<p>For good measure, we&rsquo;ll need a third hashtable that we&rsquo;ll use for <a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_splatting?view=powershell-6" target="_blank" rel="noopener">splatting </a>
when it comes time to create our notification.</p>
<pre><code>$ToastSplat = @{Text = 'Header', 'Body'}
</code></pre>
<p>Now we can figure out what out &ldquo;<a href="https://docs.microsoft.com/en-nz/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c" target="_blank" rel="noopener">culture</a>
&rdquo; Windows is currently using. We&rsquo;ll store this info in a variable so that it can be re-used.</p>
<pre><code>$Culture = Get-Culture
</code></pre>
<p>On my machine, my culture info looks like this:</p>
<pre><code>LCID             Name             DisplayName
----             ----             -----------
5129             en-NZ            English (New Zealand)
</code></pre>
<p>If my machine was set to Māori it would look like this:</p>
<pre><code>LCID             Name             DisplayName
----             ----             -----------
1153             mi-NZ            Maori (New Zealand)
</code></pre>
<p><em>There&rsquo;s also a default variable that shortcuts what we just did (</em><code>$PSCulture</code><em>), but I wanted to show the extra metadata available in case it&rsquo;s useful to anyone.</em></p>
<p>It&rsquo;s true that this example, using only two languages, is simple enough that we could just use a couple of <code>if</code> statements to get this job done. Let&rsquo;s not paint ourselves into a corner though, and instead I&rsquo;ll use a <code>switch</code> statement which can be easily expanded to accommodate additional languages in the future.</p>
<pre><code>switch -Regex ($Culture.Name) {
    '(^en)' {
        $ToastSplat['DataBinding'] = $English
        continue
    }
    '(^mi)' {
        $ToastSplat['DataBinding'] = $Maori
        continue
    }
    default {
        $ToastSplat['DataBinding'] = $English
    }
}
</code></pre>
<p>That may look a little intimidating, but in short that we&rsquo;re doing here is checking the name of our culture (e.g. en-NZ) and matching it against a Regex expression.</p>
<p>In this example, <code>^en</code> will match any culture that starts with and &ldquo;en&rdquo; including &ldquo;en-NZ&rdquo; and &ldquo;en-US&rdquo;</p>
<p>You could add another language to the mix by adding a new expressing anywhere in the list as long as it&rsquo;s above the default. Say you wanted to add French, the expression would be <code>'(^fr)'</code>.</p>
<p>As for that default, this is our catch all. If none of the expressions match, we&rsquo;re going to assume English will be the most helpful to the bulk of the audience of this script.</p>
<p>Inside the curly braces, we&rsquo;re adding the appropriate data binding hashtable to our splatting variable. Oh, and the continue statement is there simply to stop future matches from trying to occur. It&rsquo;s not to much of an issue with only two languages, but as you scale this not doing this could cause a small slow down.</p>
<p>And that&rsquo;s it, use your splatting variable to create your new toast after running through the switch statement and the correct language will be output.</p>
<pre><code>New-BurntToastNotification @ToastSplat
</code></pre>
<h2 id="wrap-up">Wrap Up</h2>
<p>Yes, this was a very simple example, but the ground work is there to scale out to any number of languages. You can use the data bindings almost anywhere text is shown to the end user, including buttons, progress bars, and other adaptive elements.</p>
<p>Let me know if you find this feature useful in your line of work.</p>
<p>Heoi anō tāku mō nāianei.</p>

  </article><div class="bg-blue-300 dark:bg-gray-900">
  <div class="container px-6 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
    <div>
      <div class="text-2xl font-bold mb-2">Follow me</div>
      <p class="opacity-60"></p>
    </div>
    <ul class="flex justify-center gap-4">
      
      <li>
        <a
          href="https://twitter.com/WindosNZ"
          target="_blank"
          rel="noopener"
          aria-label="Twitter"
          class="p-2 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"
            />
          </svg>
        </a>
      </li>
      
      
      <li>
        <a
          href="https://linkedin.com/in/windos"
          target="_blank"
          rel="noopener"
          aria-label="LinkedIn"
          class="p-2 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <rect x="4" y="4" width="16" height="16" rx="2" />
            <line x1="8" y1="11" x2="8" y2="16" />
            <line x1="8" y1="8" x2="8" y2="8.01" />
            <line x1="12" y1="16" x2="12" y2="11" />
            <path d="M16 16v-3a2 2 0 0 0 -4 0" />
          </svg>
        </a>
      </li>
      
      
      
      <li>
        <a
          href="https://github.com/Windos"
          target="_blank"
          rel="noopener"
          aria-label="GitHub"
          class="p-2 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
            />
          </svg>
        </a>
      </li>
      
      
      
      
      
      <li>
        <a
          href="https://www.youtube.com/c/JoshuaKingSolari"
          target="_blank"
          rel="noopener"
          aria-label="YouTube"
          class="p-2 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon icon-tabler icon-tabler-brand-youtube"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <circle cx="12" cy="12" r="9" />
            <path d="M10 9l5 3l-5 3z" />
          </svg>
        </a>
      </li>
      
      
    </ul>
  </div>
</div>
    </main><footer class="container p-6 mx-auto flex justify-between items-center">
  <span class="text-sm font-light">
    
    Copyright © 2022 - Josh King · All rights reserved
    
  </span>
  <span onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="p-1 cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M18 15l-6 -6l-6 6h12" />
    </svg>
  </span>
</footer>

<div class="search-ui absolute top-0 left-0 w-full h-full bg-white dark:bg-gray-800 hidden">
  <div class="container max-w-3xl mx-auto p-12">
    <div class="relative">
      <div class="my-4 text-center text-2xl font-bold">Search</div>

      <span class="p-2 absolute right-0 top-0 cursor-pointer close-search">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      </span>
    </div>

    <input type="search" class="py-2 px-3 w-full dark:text-black border dark:border-transparent"
      placeholder="Enter search query" />

    <div class="search-results text-lg font-medium my-4 hidden">Results</div>
    <ul class="search-list my-2">

    </ul>

    <div class="no-results text-center my-8 hidden">
      <div class="text-xl font-semibold mb-2">No results found</div>
      <p class="font-light text-sm">Try adjusting your search query</p>
    </div>
  </div>
</div>





<script src="https://blog.toastit.dev/js/scripts.min.js"></script>







<script>
  const mobileMenuButton = document.querySelector('.mobile-menu-button')
  const mobileMenu = document.querySelector('.mobile-menu')
  function toggleMenu() {
    mobileMenu.classList.toggle('hidden');
    mobileMenu.classList.toggle('flex');
  }
  if(mobileMenu && mobileMenuButton){
    mobileMenuButton.addEventListener('click', toggleMenu)
  }
</script>
</body>
</html>
