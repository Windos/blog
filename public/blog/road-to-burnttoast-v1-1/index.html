<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage"><head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" href="/favicon.png">

  <title>
  Road to BurntToast v1: Actionable Toast for All! - ToastIT
  </title>
  <meta name="description" content="BurntToast is finally growing up. It&rsquo;s going through puberty and will see a v1 release when it gets to the other side&hellip; but it&rsquo;ll be a journey." /><meta name="generator" content="Hugo 0.108.0"><link
    rel="stylesheet"
    href="https://blog.toastit.dev/css/styles.min.00926f5a77daea6f795528dd203f08541988d4f18173be6e98b840cc57cd6ad6.css"
    integrity="sha256-AJJvWnfa6m95VSjdID8IVBmI1PGBc75umLhAzFfNatY="
  />



  <meta property="og:title" content="Road to BurntToast v1: Actionable Toast for All!" />
<meta property="og:description" content="BurntToast is finally growing up. It&rsquo;s going through puberty and will see a v1 release when it gets to the other side&hellip; but it&rsquo;ll be a journey." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.toastit.dev/blog/road-to-burnttoast-v1-1/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2021-04-20T22:03:29+00:00" />
<meta property="article:modified_time" content="2021-04-20T22:03:29+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Road to BurntToast v1: Actionable Toast for All!"/>
<meta name="twitter:description" content="BurntToast is finally growing up. It&rsquo;s going through puberty and will see a v1 release when it gets to the other side&hellip; but it&rsquo;ll be a journey."/>

  <meta itemprop="name" content="Road to BurntToast v1: Actionable Toast for All!">
<meta itemprop="description" content="BurntToast is finally growing up. It&rsquo;s going through puberty and will see a v1 release when it gets to the other side&hellip; but it&rsquo;ll be a journey."><meta itemprop="datePublished" content="2021-04-20T22:03:29+00:00" />
<meta itemprop="dateModified" content="2021-04-20T22:03:29+00:00" />
<meta itemprop="wordCount" content="1701">
<meta itemprop="keywords" content="BurntToast,PowerShell," />


</head>
<body class="dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative">
  <a href="https://blog.toastit.dev/" class="capitalize font-extrabold text-2xl">

    <img src="/toastit-logo.png" alt="ToastIT" class="h-8 max-w-full" />

  </a>
  <button class="mobile-menu-button md:hidden">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <line x1="4" y1="8" x2="20" y2="8" />
      <line x1="4" y1="16" x2="20" y2="16" />
    </svg>
  </button>
  <ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-white dark:bg-gray-800">


    <li><a href="/blog">Blog</a></li>

    <li><a href="/page/about/">About</a></li>

    <li><a href="/tags">Tags</a></li>

    <li><a href="/blog/emoji-support/">Top Post</a></li>





    <li class="grid place-items-center">
      <span class="open-search inline-block cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="10" cy="10" r="7" />
          <line x1="21" y1="21" x2="15" y2="15" />
        </svg>
      </span>
    </li>



  </ul>
</header>
<main class="flex-1">





  <article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4">

    <h1 class="text-2xl font-bold mb-2">Road to BurntToast v1: Actionable Toast for All!</h1>

    <h5 class="text-sm flex items-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <rect x="4" y="5" width="16" height="16" rx="2" />
        <line x1="16" y1="3" x2="16" y2="7" />
        <line x1="8" y1="3" x2="8" y2="7" />
        <line x1="4" y1="11" x2="20" y2="11" />
        <rect x="8" y="15" width="2" height="2" />
      </svg>
      Posted on

    April 20, 2021




        &nbsp;&bull;&nbsp;

      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <circle cx="12" cy="12" r="9" />
        <polyline points="12 7 12 12 15 15" />
      </svg>
      8&nbsp;minutes
      &nbsp;&bull;
      <svg xmlns="http://www.w3.org/2000/svg" class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <line x1="3" y1="6" x2="3" y2="19" />
        <line x1="12" y1="6" x2="12" y2="19" />
        <line x1="21" y1="6" x2="21" y2="19" />
      </svg>
      1701&nbsp;words



    </h5>


    <p>Last year it finally became possible to have <a href="__GHOST_URL__/2020/08/08/actionable/">actionable toast notifications</a>
 in PowerShell&hellip; as long as you were running PowerShell 7.1 and above. This was a super cool development—and I was over the moon with it—but the PowerShell version limitation always loomed and was a downer of a caveat when I was demoing the new feature.</p>
<p>That changes now (or more accurately soon™)!</p>
<p class="success">
These "Road to BurntToast v1" posts are intended to give a preview of some of the features coming in BurntToast v1. Code that can be run today will almost always be "raw" .NET, and you may also find pseudo mockups of the equivalent PowerShell functions which you won't be able to run.
<br /><br />
BurntToast v1 is an almost complete re-write of the <a target="_blank" href="https://github.com/Windos/BurntToast">project</a>, meaning it's the perfect time for some breaking changes. If you have any requests, questions, or anything else, feel free to strike up a <a target="_blank" href="https://github.com/Windos/BurntToast/discussions">discussion</a> on GitHub.
</p>
<h2 id="the-groundwork">The Groundwork</h2>
<p>First of all. What&rsquo;s changed, what was so dramatic of a development that it prompted a re-write of BurntToast?</p>
<p>In short, the release of the <a href="https://blogs.windows.com/windowsdeveloper/2021/03/16/announcing-windows-community-toolkit-v7-0/" target="_blank" rel="noopener">Windows Community Toolkit v7.0</a>
 in March.</p>
<p>To follow along with the examples in this post, you&rsquo;re going to want to grab the latest <a href="https://www.nuget.org/packages/Microsoft.Toolkit.Uwp.Notifications/" target="_blank" rel="noopener">Microsoft.Toolkit.Uwp.Notifications</a>
 NuGet package (strictly speaking, anything above v7.0.0 will work.)</p>
<p>Hit up the download package link, <a href="https://www.tenforums.com/tutorials/5357-unblock-file-windows-10-a.html" target="_blank" rel="noopener">unblock</a>
 the download, and extract the contents of the nupkg file (treat the file like a zip archive, <a href="https://www.7-zip.org/" target="_blank" rel="noopener">7zip</a>
 will work natively but if in doubt rename the file to .zip.)</p>
<p>If this is your first time looking into a nupkg, you&rsquo;ll be forgiven for feeling a little lost.</p>
<figure><img src="/2021/04/image.png"/>
</figure>

<p>You&rsquo;re looking for a DLL under the lib directory. Though it&rsquo;s not as simple as that. You&rsquo;ll see that there are a number of different options there.</p>
<figure><img src="/2021/04/image-1.png"/>
</figure>

<p>Things get a little complicated at this point. The version of PowerShell you&rsquo;re running dictates which version of the DLL you&rsquo;re going to need and whether any additional resources are needed. (This complexity is the reason BurntToast exists&hellip; so no one has to worry about the complexity unless they really want to!)</p>
<p>To keep things simple, I&rsquo;ll be assuming that we&rsquo;re using Windows PowerShell. With that in mind, you want to grab the dll from the net461 directory and store it somewhere convenient. I&rsquo;ll be assuming it is stored in <code>C:\Toolkit\</code>.</p>
<p>Once you&rsquo;ve copied that file, you should be able to import it into your current session:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">Add-Type</span> -Path <span style="color:#f1fa8c">&#39;C:\Toolkit\Microsoft.Toolkit.Uwp.Notifications.dll&#39;</span>
</span></span></code></pre></div><p>No errors? Awesome, it&rsquo;s time to crack on!</p>
<h2 id="baby-steps">Baby Steps</h2>
<p>It&rsquo;s worth reading the <a href="__GHOST_URL__/2020/08/08/actionable/">previous post</a>
 before we get going so that you know where we are coming from.</p>
<p>Before we dive into actions and events, let&rsquo;s just use the updated Windows Community Toolkit to get a toast on screen. The methodology is different than it used to be and seeing a simpler example will help some BurntToast design decisions make more sense.</p>
<p>We start with a &ldquo;Toast Content Builder&rdquo;, this is the base from which we build up our toast notification:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span> = [Microsoft.Toolkit.Uwp.Notifications.ToastContentBuilder]::new()
</span></span></code></pre></div><p>From there we can just start adding, via methods, the elements we want on our notification. So let&rsquo;s say we wanted three pieces of text:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.AddText(<span style="color:#f1fa8c">&#34;The Future is Exciting!&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.AddText(<span style="color:#f1fa8c">&#34;This toast is using Windows Toolkit v7&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.AddText(<span style="color:#f1fa8c">&#34;It&#39;s a game changer!&#34;</span>)
</span></span></code></pre></div><p>Need an App Logo? No Problem:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#6272a4"># Download this blog&#39;s fav icon and use it on the toast</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$AppLogo</span> = <span style="color:#f1fa8c">&#39;C:\Toolkit\ToastIT.png&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">Invoke-WebRequest</span> -Uri <span style="color:#f1fa8c">&#39;https://toastit.dev/favicon.png&#39;</span> -OutFile <span style="color:#8be9fd;font-style:italic">$AppLogo</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.AddAppLogoOverride(<span style="color:#8be9fd;font-style:italic">$AppLogo</span>)
</span></span></code></pre></div><p>How about a Hero Image?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#6272a4"># Download toast photo by Manki Kim on Unsplash.com</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$OnlineImage</span> = <span style="color:#f1fa8c">&#39;https://images.unsplash.com/photo-1505491589101-5c7976eeb482&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$HeroImage</span> = <span style="color:#f1fa8c">&#39;C:\Toolkit\Toast.jpeg&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">Invoke-WebRequest</span> -Uri <span style="color:#8be9fd;font-style:italic">$OnlineImage</span> -OutFile <span style="color:#8be9fd;font-style:italic">$HeroImage</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.AddHeroImage(<span style="color:#8be9fd;font-style:italic">$HeroImage</span>)
</span></span></code></pre></div><p>Alright, we&rsquo;re happy with our notification. So now we need to mess around with App IDs and notifications managers, ergh… not anymore! Just tell Windows that your toast has been built and it&rsquo;s ready to show:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.Show()
</span></span></code></pre></div><p>THAT IS SO MUCH SIMPLER THAN IT USED TO BE!</p>
<figure><img src="/2021/04/image-2.png"/>
</figure>

<p>What you&rsquo;ll notice is that the toast has been attributed to PowerShell ISE, which was the editor I was running the demo code in (just driving home that this works in Windows PowerShell 5.1!)</p>
<p>When running the code, you&rsquo;ll also notice that the various <code>.Add*</code> methods are outputting Toast Content objects as you run them. This allows you to chain together methods, though at this point I would just suggest adding a <code>$null =</code> to the start of each line.</p>
<p>You&rsquo;ll also notice that using the content builder, you start with a shell and fill it with what you want to display. This differs from how BurntToast currently works where you start from the other direction; creating the elements you want to display then adding them to the containers they belong in.</p>
<p>This method is much easier to follow (or will be once BurntToast has hidden away some of the .NETness.</p>
<h2 id="call-to-action">Call to Action</h2>
<p>So now we get to the main event, and likely the reason you&rsquo;re actually reading this post.</p>
<p>If you&rsquo;ve seen actionable toast previously, you&rsquo;ll know that currently you lodge an action against an individual toast. Each new toast that needs to use that action, you need to provide the desired action.</p>
<p>That flow should still be possible (I haven&rsquo;t actually tested it), but now what you can do is register an action session wide. That means you only have to register an action once and then all toasts created in that same session will be able to use it.</p>
<p>To make this work, we create a &ldquo;compatible&rdquo; notification manager, and register our event against that.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$CompatMgr</span> = [Microsoft.Toolkit.Uwp.Notifications.ToastNotificationManagerCompat]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">Register-ObjectEvent</span> -InputObject <span style="color:#8be9fd;font-style:italic">$CompatMgr</span> -EventName OnActivated -Action {
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">Write-Warning</span> <span style="color:#f1fa8c">&#34;Caught an event&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">$Global:ToastEvent</span> = <span style="color:#8be9fd;font-style:italic">$Event</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>In this example we&rsquo;re outputting a warning, which is just a nice way of showing that the event has triggered, and then presenting the event data back to you as a global variable so that you can inspect it.</p>
<p>Next, we&rsquo;ll create a new toast. Note that I&rsquo;m &ldquo;adding&rdquo; some arguments to it, which we&rsquo;ll have a look at later in the event data.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span> = [Microsoft.Toolkit.Uwp.Notifications.ToastContentBuilder]::new()
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.AddArgument(<span style="color:#f1fa8c">&#34;Action&#34;</span>, <span style="color:#f1fa8c">&#34;BodyClick&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.AddArgument(<span style="color:#f1fa8c">&#34;ToastID&#34;</span>, [guid]::NewGuid().Guid)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.AddText(<span style="color:#f1fa8c">&#34;Call to Action&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.AddText(<span style="color:#f1fa8c">&#34;This is really cool, I can trigger events!&#34;</span>)
</span></span></code></pre></div><p>Before we go and run this, let&rsquo;s add a couple of buttons. Note I&rsquo;m using two different things to create the buttons here. First, I&rsquo;m just providing the details of the button to the <code>.AddButton</code> method. Next, I&rsquo;m creating an entire button object and passing that in through the exact same method.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.AddButton(<span style="color:#f1fa8c">&#39;Action!&#39;</span>, <span style="color:#f1fa8c">&#39;Background&#39;</span>, <span style="color:#f1fa8c">&#39;ButtonClick&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.AddButton([Microsoft.Toolkit.Uwp.Notifications.ToastButtonDismiss]::new())
</span></span></code></pre></div><p>And finally, we show the toast.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span>.Show()
</span></span></code></pre></div><figure><img src="/2021/04/image-3.png"/>
</figure>

<p>If you click that toast, either somewhere in the body of it or the &ldquo;Action!&rdquo; button, you see that you get a warning pop up in your PowerShell console. You&rsquo;ll need to hit enter to get your prompt back.</p>
<p>You can now inspect the <code>$ToastEvent</code> variable to have a look at the data available to you inside your event script block. In particular, have a look at <code>$ToastEvent.SourceArgs.Argument</code> and see how that is different when you click the toast body, vs the button.</p>
<p>Also notice that if you click the dismiss button, nothing happens. No warning, and your <code>$ToastEvent</code> variable is untouched (as nothing happened to update it.) This is because the event we registered was for the &ldquo;OnActivated&rdquo; event. I haven&rsquo;t yet found out how to register a session wide dismissed event, or if it&rsquo;s even possible, so that&rsquo;s an area for investigation.</p>
<p>This is a very simple example. If you&rsquo;re interested in something a little more chunky, check out this <a href="https://gist.github.com/Windos/345f46dc31f01886aa198728ef165aa2" target="_blank" rel="noopener">Gist on GitHub</a>
.</p>
<h2 id="a-little-v1-preview">A Little v1 Preview</h2>
<p>Now, all of the above was using the raw .NET accessible via the Windows Community Toolkit dll. It&rsquo;s not necessarily &ldquo;easy&rdquo; (especially once you start diving into the more intricate elements that can be on a toast), nor is it the &ldquo;PowerShell Way.&rdquo;</p>
<p>That&rsquo;s the reason why BurntToast even exists: to make all of this stuff as easy as chucking bread into a toast and getting a delicious result.</p>
<p class="warning">
You won't be able to run this code today, it is a mockup of what may be possible when BurntToast v1 is released.
</p>
<p>With that in mind, I wanted to show off what that previous example may look like once BurntToast v1 is released.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">Register-BTEvent</span> -Activated -Action {
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">Write-Warning</span> <span style="color:#f1fa8c">&#34;Caught an event&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">$Global:ToastEvent</span> = <span style="color:#8be9fd;font-style:italic">$Event</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span> = <span style="color:#8be9fd;font-style:italic">New-BTBuilder</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span> | <span style="color:#8be9fd;font-style:italic">Add-BTArgument</span> -Key <span style="color:#f1fa8c">&#39;Action&#39;</span> -Value <span style="color:#f1fa8c">&#39;BodyClick&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span> | <span style="color:#8be9fd;font-style:italic">Add-BTArgument</span> -Key <span style="color:#f1fa8c">&#39;ToastID&#39;</span> -Value [guid]::NewGuid().Guid
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span> | <span style="color:#8be9fd;font-style:italic">Add-BTText</span> -Text <span style="color:#f1fa8c">&#39;Call to Action&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span> | <span style="color:#8be9fd;font-style:italic">Add-BTText</span> -Text <span style="color:#f1fa8c">&#39;This is really cool, I can trigger events!&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span> | <span style="color:#8be9fd;font-style:italic">Add-BTButton</span> -Text <span style="color:#f1fa8c">&#39;Action!&#39;</span> -Argument <span style="color:#f1fa8c">&#39;ButtonClick&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span> | <span style="color:#8be9fd;font-style:italic">Add-BTButton</span> -Dismiss
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$ContentBuilder</span> | <span style="color:#8be9fd;font-style:italic">Show-BTToast</span>
</span></span></code></pre></div><p>You&rsquo;ll notice that in general that is very similar to the previous example, just more… PowerShell. Using fully formed functions means we can have guard rails via parameters, parameter sets, validation, etc. We can hide away complexity, so that the user can just focus on the toast their looking for.</p>
<p>Now, remember all of that console output whenever you ran an <code>.Add*</code> method? This mockup automatically hides that away… unless you want to chain functions together on the pipeline.</p>
<p>If you go this route, you&rsquo;ll want to use the <code>-PassThru</code> parameter, or if you&rsquo;re doing it en masse then you can make it the default behaviour (I&rsquo;m considering making it configurable in the module&rsquo;s config.json file). With that in place, the example can then be changed once again.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">$PSDefaultParameterValues</span>=@{<span style="color:#f1fa8c">&#34;Add-BT*:PassThru&#34;</span>=$true}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">New-BTBuilder</span> |
</span></span><span style="display:flex;"><span> <span style="color:#8be9fd;font-style:italic">Add-BTArgument</span> -Key <span style="color:#f1fa8c">&#39;Action&#39;</span> -Value <span style="color:#f1fa8c">&#39;BodyClick&#39;</span> |
</span></span><span style="display:flex;"><span> <span style="color:#8be9fd;font-style:italic">Add-BTArgument</span> -Key <span style="color:#f1fa8c">&#39;ToastID&#39;</span> -Value [guid]::NewGuid().Guid |
</span></span><span style="display:flex;"><span> <span style="color:#8be9fd;font-style:italic">Add-BTText</span> -Text <span style="color:#f1fa8c">&#39;Call to Action&#39;</span> |
</span></span><span style="display:flex;"><span> <span style="color:#8be9fd;font-style:italic">Add-BTText</span> -Text <span style="color:#f1fa8c">&#39;This is really cool, I can trigger events!&#39;</span> |
</span></span><span style="display:flex;"><span> <span style="color:#8be9fd;font-style:italic">Add-BTButton</span> -Text <span style="color:#f1fa8c">&#39;Action!&#39;</span> -Argument <span style="color:#f1fa8c">&#39;ButtonClick&#39;</span> |
</span></span><span style="display:flex;"><span> <span style="color:#8be9fd;font-style:italic">Add-BTButton</span> -Dismiss |
</span></span><span style="display:flex;"><span> <span style="color:#8be9fd;font-style:italic">Show-BTToast</span>
</span></span></code></pre></div><p>That, my friends, is a &ldquo;one liner&rdquo; toast notification!</p>
<h2 id="one-main-issue-before-you-go">One Main Issue Before You Go</h2>
<p>There&rsquo;s only one main issue that I&rsquo;m tracking with these actionable toasts at the moment. They are so smart that they will try and launch the application that owns them when they are activated, if that application is closed at the time.</p>
<p>Unfortunately, most applications you&rsquo;ll be using these toasts from, like PowerShell ISE, can&rsquo;t handle these &ldquo;launch&rdquo; events.</p>
<figure><img src="/2021/04/image-4.png"/>
</figure>

<p>Not cool.</p>
<p>We&rsquo;ll figure it out eventually though!</p>
<p>It&rsquo;s a very exciting time in the world of toast notifications. Keep an eye out on this site and on <a href="https://twitter.com/WindosNZ" target="_blank" rel="noopener">Twitter</a>
 for more developments as we work towards the release of BurntToast v1.</p>

  </article><div class="bg-blue-300 dark:bg-gray-900">
  <div class="container px-6 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
    <div>
      <div class="text-2xl font-bold mb-2">Follow me</div>
      <p class="opacity-60"></p>
    </div>
    <ul class="flex justify-center gap-4">

      <li>
        <a
          href="https://twitter.com/WindosNZ"
          target="_blank"
          rel="noopener"
          aria-label="Twitter"
          class="p-2 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"
            />
          </svg>
        </a>
      </li>


      <li>
        <a
          href="https://linkedin.com/in/windos"
          target="_blank"
          rel="noopener"
          aria-label="LinkedIn"
          class="p-2 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <rect x="4" y="4" width="16" height="16" rx="2" />
            <line x1="8" y1="11" x2="8" y2="16" />
            <line x1="8" y1="8" x2="8" y2="8.01" />
            <line x1="12" y1="16" x2="12" y2="11" />
            <path d="M16 16v-3a2 2 0 0 0 -4 0" />
          </svg>
        </a>
      </li>



      <li>
        <a
          href="https://github.com/Windos"
          target="_blank"
          rel="noopener"
          aria-label="GitHub"
          class="p-2 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
            />
          </svg>
        </a>
      </li>





      <li>
        <a
          href="https://www.youtube.com/c/JoshuaKingSolari"
          target="_blank"
          rel="noopener"
          aria-label="YouTube"
          class="p-2 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon icon-tabler icon-tabler-brand-youtube"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <circle cx="12" cy="12" r="9" />
            <path d="M10 9l5 3l-5 3z" />
          </svg>
        </a>
      </li>




    </ul>
  </div>
</div>
    </main><footer class="container p-6 mx-auto flex justify-between items-center">
  <span class="text-sm font-light">

    Copyright © 2022 - Josh King · All rights reserved

  </span>
  <span onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="p-1 cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M18 15l-6 -6l-6 6h12" />
    </svg>
  </span>
</footer>

<div class="search-ui absolute top-0 left-0 w-full h-full bg-white dark:bg-gray-800 hidden">
  <div class="container max-w-3xl mx-auto p-12">
    <div class="relative">
      <div class="my-4 text-center text-2xl font-bold">Search</div>

      <span class="p-2 absolute right-0 top-0 cursor-pointer close-search">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      </span>
    </div>

    <input type="search" class="py-2 px-3 w-full dark:text-black border dark:border-transparent"
      placeholder="Enter search query" />

    <div class="search-results text-lg font-medium my-4 hidden">Results</div>
    <ul class="search-list my-2">

    </ul>

    <div class="no-results text-center my-8 hidden">
      <div class="text-xl font-semibold mb-2">No results found</div>
      <p class="font-light text-sm">Try adjusting your search query</p>
    </div>
  </div>
</div>





<script src="https://blog.toastit.dev/js/scripts.min.js"></script>







<script>
  const mobileMenuButton = document.querySelector('.mobile-menu-button')
  const mobileMenu = document.querySelector('.mobile-menu')
  function toggleMenu() {
    mobileMenu.classList.toggle('hidden');
    mobileMenu.classList.toggle('flex');
  }
  if(mobileMenu && mobileMenuButton){
    mobileMenuButton.addEventListener('click', toggleMenu)
  }
</script>
</body>
</html>
